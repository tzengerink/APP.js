(function(){"use strict";return module("APP"),test("ready",function(){var e;return e=!1,APP.ready(function(){e=!0}),expect(1),ok(e)}),test("module",function(){return APP.module("APP.TestModule",[window,document],function(e,t){return{docObj:t,winObj:e,start:function(){return e.location.href===window.location.href}}}),APP.module("APP.TestModule.SubModule",function(){return{start:function(){return!0}}}),APP.module("APP.TestModule.testMethod",function(){return function(e){return e==="test"}}),APP.module("APP.TestModule.testVar",1234),APP.module("APP.TestModule.testObject",{key:"value"}),expect(5),equal(APP.TestModule.start(),!0),equal(APP.TestModule.SubModule.start(),!0),equal(APP.TestModule.testMethod("test"),!0),equal(APP.TestModule.testVar,1234),deepEqual(APP.TestModule.testObject,{key:"value"})}),test("start",function(){var e,t;return e=!1,t=!1,APP.module("APP.Mod",function(){return{start:function(){e=!0}}}),APP.module("APP.Mod.Sub",function(){return{start:function(){t=!0}}}),APP.start({key:"value"}),expect(3),ok(e),ok(t),equal(APP.Config.get("key"),"value")}),test("stop",function(){var e,t;return e=!1,t=!1,APP.module("APP.Mod",function(){return{stop:function(){e=!0}}}),APP.module("APP.Mod.Sub",function(){return{stop:function(){t=!0}}}),APP.stop(),expect(2),ok(e),ok(t)}),test("Config",function(){return expect(4),equal(typeof APP.Config.get(),"object"),equal(typeof APP.Config.get("nonExisting"),"undefined"),equal(typeof APP.Config.set({key:"value"}),"object"),equal(APP.Config.get("key"),"value")}),test("Events",function(){var e,t,n;return t=!1,n=!1,e=!1,APP.Events.on("news",function(){t=!0}),APP.Events.trigger("news"),APP.Events.on("news",function(e){n=e}),APP.Events.trigger("news","value"),APP.Events.on("news",function(){e=!0}),APP.Events.off("news"),APP.Events.trigger("news"),expect(3),ok(t),equal(n,"value"),equal(e,!1)}),test("KeyHandler",function(){var e,t,n;return t=!1,n=!1,e=!1,APP.KeyHandler.on("r",function(){t=!0}),APP.KeyHandler.trigger("r"),APP.KeyHandler.on("r",function(e){n=e}),APP.KeyHandler.trigger("r","value"),APP.KeyHandler.on("r",function(){e=!0}),APP.KeyHandler.off("r"),APP.KeyHandler.trigger("r"),expect(3),equal(n,"value"),ok(t),equal(e,!1)}),test("Log",function(){return APP.log("test1"),APP.log("test2"),expect(1),deepEqual(APP.Log.history,["test1","test2"])}),test("Url",function(){var e,t,n;return t="some/long/uri",n="/some/long/uri/",e=window.location.protocol+"//"+window.location.host+"/"+t,expect(3),APP.Config.set({baseUri:t}),equal(APP.Url.base(),e),APP.Config.set({baseUrl:n}),equal(APP.Url.site("/test/"),e+"/test"),equal(APP.Url.site("test"),e+"/test")})})();