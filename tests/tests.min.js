/*!
 * APP.js v0.1.2
 * - - -
 * Copyright (c) 2013 T. Zengerink
 * Released under MIT lisenced
 * https://raw.github.com/Mytho/APP.js/master/LISENCE.md
 */
(function(){!function(){"use strict";return module("APP"),test("ready",function(){var a;return a=!1,APP.ready(function(){a=!0}),expect(1),ok(a)}),test("module",function(){return APP.module("APP.TestModule",[window,document],function(a,b){return{docObj:b,winObj:a,start:function(){return a.location.href===window.location.href}}}),APP.module("APP.TestModule.SubModule",function(){return{start:function(){return!0}}}),APP.module("APP.TestModule.testMethod",function(){return function(a){return"test"===a}}),APP.module("APP.TestModule.testVar",1234),APP.module("APP.TestModule.testObject",{key:"value"}),expect(5),equal(APP.TestModule.start(),!0),equal(APP.TestModule.SubModule.start(),!0),equal(APP.TestModule.testMethod("test"),!0),equal(APP.TestModule.testVar,1234),deepEqual(APP.TestModule.testObject,{key:"value"})}),test("start",function(){var a,b;return a=!1,b=!1,APP.module("APP.Mod",function(){return{start:function(){a=!0}}}),APP.module("APP.Mod.Sub",function(){return{start:function(){b=!0}}}),APP.start({key:"value"}),expect(3),ok(a),ok(b),equal(APP.Config.get("key"),"value")}),test("Config",function(){return expect(4),equal(typeof APP.Config.get(),"object"),equal(typeof APP.Config.get("nonExisting"),"undefined"),equal(typeof APP.Config.set({key:"value"}),"object"),equal(APP.Config.get("key"),"value")}),test("Events",function(){var a,b,c;return b=!1,c=!1,a=!1,APP.Events.on("news",function(){b=!0}),APP.Events.trigger("news"),APP.Events.on("news",function(a){c=a}),APP.Events.trigger("news","value"),APP.Events.on("news",function(){a=!0}),APP.Events.off("news"),APP.Events.trigger("news"),expect(3),ok(b),equal(c,"value"),equal(a,!1)}),test("KeyHandler",function(){var a,b,c;return b=!1,c=!1,a=!1,APP.KeyHandler.on("r",function(){b=!0}),APP.KeyHandler.trigger("r"),APP.KeyHandler.on("r",function(a){c=a}),APP.KeyHandler.trigger("r","value"),APP.KeyHandler.on("r",function(){a=!0}),APP.KeyHandler.off("r"),APP.KeyHandler.trigger("r"),expect(3),equal(c,"value"),ok(b),equal(a,!1)}),test("Log",function(){return APP.log("test1"),APP.log("test2"),expect(1),deepEqual(APP.Log.history,["test1","test2"])}),test("Url",function(){var a,b,c,d;return c="some/long/uri",d="/some/long/uri/",a="http://"+window.location.host+"/"+c,b="https://"+window.location.host+"/"+c,expect(3),APP.Config.set({baseUri:c}),equal(APP.Url.base(),a),APP.Config.set({baseUrl:d}),equal(APP.Url.site("/test/"),a+"/test"),equal(APP.Url.site("test","https"),b+"/test")})}()}).call(this);