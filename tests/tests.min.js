/*!
 * APP.js v0.1.1
 * - - -
 * Copyright (c) 2013 T. Zengerink
 * Released under MIT lisenced
 * https://raw.github.com/Mytho/APP.js/master/LISENCE.md
 */
(function(){(function(){"use strict";return module("APP"),test("ready",function(){var t;return t=!1,APP.ready(function(){t=!0}),expect(1),ok(t)}),test("module",function(){return APP.module("APP.TestModule",[window,document],function(t,e){return{docObj:e,winObj:t,start:function(){return t.location.href===window.location.href}}}),APP.module("APP.TestModule.SubModule",function(){return{start:function(){return!0}}}),APP.module("APP.TestModule.testMethod",function(){return function(t){return"test"===t}}),APP.module("APP.TestModule.testVar",1234),APP.module("APP.TestModule.testObject",{key:"value"}),expect(5),equal(APP.TestModule.start(),!0),equal(APP.TestModule.SubModule.start(),!0),equal(APP.TestModule.testMethod("test"),!0),equal(APP.TestModule.testVar,1234),deepEqual(APP.TestModule.testObject,{key:"value"})}),test("start",function(){var t,e;return t=!1,e=!1,APP.module("APP.Mod",function(){return{start:function(){t=!0}}}),APP.module("APP.Mod.Sub",function(){return{start:function(){e=!0}}}),APP.start({key:"value"}),expect(3),ok(t),ok(e),equal(APP.Config.get("key"),"value")}),test("Config",function(){return expect(4),equal(typeof APP.Config.get(),"object"),equal(typeof APP.Config.get("nonExisting"),"undefined"),equal(typeof APP.Config.set({key:"value"}),"object"),equal(APP.Config.get("key"),"value")}),test("Events",function(){var t,e,n;return e=!1,n=!1,t=!1,APP.Events.on("news",function(){e=!0}),APP.Events.trigger("news"),APP.Events.on("news",function(t){n=t}),APP.Events.trigger("news","value"),APP.Events.on("news",function(){t=!0}),APP.Events.off("news"),APP.Events.trigger("news"),expect(3),ok(e),equal(n,"value"),equal(t,!1)}),test("KeyHandler",function(){var t,e,n;return e=!1,n=!1,t=!1,APP.KeyHandler.on("r",function(){e=!0}),APP.KeyHandler.trigger("r"),APP.KeyHandler.on("r",function(t){n=t}),APP.KeyHandler.trigger("r","value"),APP.KeyHandler.on("r",function(){t=!0}),APP.KeyHandler.off("r"),APP.KeyHandler.trigger("r"),expect(3),equal(n,"value"),ok(e),equal(t,!1)}),test("Log",function(){return APP.log("test1"),APP.log("test2"),expect(1),deepEqual(APP.Log.history,["test1","test2"])}),test("Url",function(){var t,e,n;return e="some/long/uri",n="/some/long/uri/",t=window.location.protocol+"//"+window.location.host+"/"+e,expect(3),APP.Config.set({baseUri:e}),equal(APP.Url.base(),t),APP.Config.set({baseUrl:n}),equal(APP.Url.site("/test/"),t+"/test"),equal(APP.Url.site("test"),t+"/test")})})()}).call(this);