(function(){window.APP=(function(h,l){var d,m,f,b,e,i,g,c,k,a,j;e={baseUri:"",debug:true};i=function(o,p){var n;for(n in p){if(p.hasOwnProperty(n)){o[n]=p[n]}}return o};d=(function(){var n;n=i({},e);return{get:function(o){if(!o){return n}return n[o]},set:function(o,p){if(typeof o==="object"){n=i(n,o)}n[o]=p;return n}}})();m=(function(){var n;n={};return{bind:function(p,q,o){if(p.addEventListener){return p.addEventListener(q,o,false)}else{if(p.attachEvent){return p.attachEvent("on"+q,o)}}},unbind:function(p,q,o){if(p.removeEventListener){return p.removeEventListener(q,o,false)}else{if(p.detachEvent){return p.detachEvent("on"+q,o)}}},off:function(o){if(typeof o===!"string"){throw new Error("Topic must be a string")}return n[o]=[]},on:function(o,p){if(typeof o===!"string"){throw new Error("Topic must be a string")}if(typeof o===!"function"){throw new Error("Callback must be a function")}if(typeof n[o]==="undefined"){n[o]=[]}return n[o].push(p)},trigger:function(q,p){var r,o;if(typeof q===!"string"){throw new Error("Topic must be a string")}o=[];for(r in n[q]){if(n[q].hasOwnProperty(r)){o.push(n[q][r](p))}else{o.push(void 0)}}return o}}})();f=(function(){return{history:[],write:function(){var n,p,o;for(p=0,o=arguments.length;p<o;p++){n=arguments[p];f.history.push(n)}if(h.hasOwnProperty(console)&&d.get("debug")){return h.console.log(arguments)}}}})();b=(function(){var n;n=function(o){return o.replace(/^\/|\/$/g,"")};return{base:function(){var o;if(n(d.get("baseUri"))){o="/"}return[h.location.protocol,"//",h.location.host,o,n(d.get("baseUri"))].join("")},site:function(o){return[b.base(),"/",n(o)].join("")}}})();c=(function(){var p,o,n;p=function(q){return q.split(".").pop()};o=function(r){var q;q=r.split(".").slice(0,-1);return n(q.join("."))};n=function(v){var r,u,t,q,s;u=h;s=v.split(".");for(t=0,q=s.length;t<q;t++){r=s[t];u[r]=u[r]||{};u=u[r]}return u};return function(r,s,u){var t,q;if(typeof u==="undefined"){u=s;s=[]}q=o(r);t=p(r);c=u;if(typeof c==="function"){c=u.apply(this,s)}q[t]=c;if(typeof c==="object"){return q[t]=i(q[t]||{},c)}}})();k=(function(){var p,o,n,r,q;o=false;q=[];n=function(){var u,v,t,s;o=true;s=[];for(v=0,t=q.length;v<t;v++){u=q[v];console.log(u);s.push(u.call())}return s};if(l.documentElement){p=function(){try{l.documentElement("left");return n()}catch(s){return h.setTimeout(p,10)}};p()}m.bind(l,"DOMContentLoaded",r=function(){m.unbind(l,"DOMContentLoaded",r);return n()});return function(s){if(o){return s()}else{return q.push(s)}}})();g=function(p,s){var o,r,q,n;r=(s===false?"stop":"start");o=function(v){var u,t;u=typeof p[v]==="object";t=v.charAt(0)===v.charAt(0).toUpperCase();return u&&t};n=[];for(q in p){if(p.hasOwnProperty(q)&&o(q)){if(p[q].hasOwnProperty(r)){p[q][r].call()}n.push(g(p[q],s))}else{n.push(void 0)}}return n};a=function(n){d.set(n);return k(function(){return g(APP)})};j=function(){return g(APP,false)};h.log=f.write;return{module:c,ready:k,start:a,stop:j,Config:d,Events:m,Log:f,Url:b}})(window,document)}).call(this);(function(){APP.module("APP.KeyHandler",[document,APP.Events],function(e,a){var d,b,c;c="KeyHandler-";b={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",37:"left",38:"up",39:"right",40:"down",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z",112:"f1",113:"f2",114:"f3",115:"f4",116:"f5",117:"f6",118:"f7",119:"f8",120:"f9",121:"f10",122:"f11",123:"f12",96:"num0",97:"num1",98:"num2",99:"num3",100:"num4",101:"num5",102:"num6",103:"num7",104:"num8",105:"num9"};d=function(f){if(!/input|textarea|select/i.test((f.target||f.srcElement).nodeName)){return a.trigger([c,b[f.keyCode]].join(""),f)}};a.bind(e,"keyup",d);return{off:function(f){return a.off([c,f.toLowerCase()].join(""))},on:function(f,g){return a.on([c,f.toLowerCase()].join(""),g)},trigger:function(g,f){return a.trigger([c,g.toLowerCase()].join(""),f)}}})}).call(this);