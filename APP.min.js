/*!
 * APP.js
 * ------
 * Copyright (c) 2012, T. Zengerink
 * https://raw.github.com/Mytho/APP.js/master/LISENCE.md
 */
var APP=APP||{};(function(c,d){var e={},a={debug:false,moduleStartMethod:"start",moduleStopMethod:"stop",nameSpaceDelimiter:"."};var f=(function(){var j=function(m,l){for(var k in l){m[k]=l[k]}return m};var i=function(k){return k.split(a.nameSpaceDelimiter).pop()};var h=function(l){var k=l.split(a.nameSpaceDelimiter);k.pop();return g(k.join(a.nameSpaceDelimiter))};var g=function(m){var k=0,l=m.split(a.nameSpaceDelimiter),n=this;for(;k<l.length;k++){n[l[k]]=n[l[k]]||{};n=n[l[k]]}return n};return function(o,p,n){if(typeof n==="undefined"){n=p;p=[]}var l=i(o),k=h(o),m=(typeof n==="function")?n.apply(this,p):n;switch(typeof m){case"object":k[l]=j((k[l]||{}),m);break;default:k[l]=m;break}}})();var b=function(g,j){var i=j!==false?a.moduleStartMethod:a.moduleStopMethod;for(var h in g){if(typeof g[h]==="object"&&h.charAt(0)===h.charAt(0).toUpperCase()){if(h!=="Core"&&g[h].hasOwnProperty(i)){g[h][i].call()}b(g[h],j)}}};e.config=function(h,i){if(typeof i!=="undefined"){a[h]=i}if(typeof h==="object"){for(var g in h){a[g]=h[g]}}else{if(typeof a[h]!=="undefined"){return a[h]}}return a};e.Log=(function(){var g={};g.history=[];g.write=function(){for(var h=arguments.length;h>0;h--){g.history.push(arguments[h-1]);if(a.debug&&d.console){console.log(arguments[h-1])}}};return g})();e.start=function(g){e.config(g);b(c)};e.stop=function(){b(c,false)};d.define=f;d.log=e.Log.write;f("APP.start",function(){return e.start});f("APP.stop",function(){return e.stop});c.Core=e})(APP,window);define("APP.PubSub",function(){var a={},b={};a.off=function(c){if(typeof c!=="string"){throw new Error("Topic must be a string")}b[c]=[]};a.on=function(c,d){if(typeof c!=="string"){throw new Error("Topic must be a string")}if(typeof d!=="function"){throw new Error("Callback must be a function")}if(typeof b[c]==="undefined"){b[c]=[]}b[c].push(d)};a.trigger=function(d,c){if(typeof d!=="string"){throw new Error("Topic must be a string")}for(var e in b[d]){b[d][e](c)}};return a});