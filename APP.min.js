/*!
 * APP.js
 * ------
 * Copyright (c) 2012, T. Zengerink
 * https://raw.github.com/Mytho/APP.js/master/LISENCE.md
 */
var APP=APP||{};(function(k,d){var e={},j={debug:false,moduleStartMethod:"start",moduleStopMethod:"stop",namespaceDelimiter:"."};var g=function(o,n){for(var m in n){o[m]=n[m]}return o};var b=function(m){if(typeof m==="object"){j=g(j,m);return j}else{return j[m]}};var f=function(m){return m.split(j.namespaceDelimiter).pop()};var h=function(n){var m=n.split(j.namespaceDelimiter);m.pop();return c(m.join(j.namespaceDelimiter))};var l=function(m,p){var o=p!==false?j.moduleStartMethod:j.moduleStopMethod;for(var n in m){if(typeof m[n]==="object"&&n.charAt(0)===n.charAt(0).toUpperCase()){if(n!=="Core"&&m[n].hasOwnProperty(o)){m[n][o].call()}l(m[n],p)}}};var c=function(p){var m=0,n=p.split(j.namespaceDelimiter),q=this;for(;m<n.length;m++){q[n[m]]=q[n[m]]||{};q=q[n[m]]}return q};var a=function(){b(arguments);l(k)};var i=function(){l(k,false)};e.Log=(function(){var m={};m.history=[];m.write=function(){for(var n=arguments.length;n>0;n--){m.history.push(arguments[n-1]);if(j.debug&&d.console){console.log(arguments[n-1])}}};return m})();e.Utils=(function(){var m={};m.extend=g;return m})();e.define=(function(){return function(q,r,p){if(typeof p==="undefined"){p=r;r=[]}var m=f(q),o=h(q),n=(typeof p==="function")?p.apply(this,r):p;switch(typeof n){case"object":o[m]=g((o[m]||{}),n);break;default:o[m]=n;break}}})();d.define=e.define;d.log=e.Log.write;k.config=b;k.start=a;k.stop=i;k.Core=e})(APP,window);define("APP.PubSub",function(){var a={},b={};a.off=function(c){if(typeof c!=="string"){throw new Error("Topic must be a string")}b[c]=[]};a.on=function(c,d){if(typeof c!=="string"){throw new Error("Topic must be a string")}if(typeof d!=="function"){throw new Error("Callback must be a function")}if(typeof b[c]==="undefined"){b[c]=[]}b[c].push(d)};a.trigger=function(d,c){if(typeof d!=="string"){throw new Error("Topic must be a string")}for(var e in b[d]){b[d][e](c)}};return a});