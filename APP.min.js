(function(){window.APP=(function(h,k){var d,l,f,b,e,i,g,c,a,j;e={baseUri:"",debug:false,stopMethod:"start",startMethod:"stop",delimiter:"."};i=function(n,o){var m;for(m in o){if(o.hasOwnProperty(m)){n[m]=o[m]}}return n};d=(function(){var m;m=i({},e);return{get:function(n){if(!n){return m}return m[n]},set:function(n,o){if(typeof n==="object"){m=i(m,n)}m[n]=o;return m}}})();l=(function(){return{bind:function(n,o,m){if(n.addEventListener){return n.addEventListener(o,m,false)}else{if(n.attachEvent){return n.attachEvent("on"+o,m)}}},unbind:function(n,o,m){if(n.removeEventListener){return n.removeEventListener(o,m,false)}else{if(n.detachEvent){return n.detachEvent("on"+o,m)}}}}})();f=(function(){return{history:[],write:function(){var m,o,n;for(o=0,n=arguments.length;o<n;o++){m=arguments[o];f.history.push(m)}if(h.hasOwnProperty(console)&&d.get("debug")){return h.console.log(arguments)}}}})();b=(function(){var m;m=function(n){return n.replace(/^\/|\/$/g,"")};return{base:function(){var n;if(m(d.get("baseUri"))){n="/"}return[h.location.protocol,"//",h.location.host,n,m(d.get("baseUri"))].join("")},site:function(n){return[b.base(),"/",m(n)].join("")}}})();c=(function(){var o,n,m;o=function(p){return p.split(d.get("delimiter")).pop()};n=function(q){var p;p=q.split(d.get("delimiter")).slice(0,-1);return m(p.join(d.get("delimiter")))};m=function(u){var q,t,s,p,r;t=h;r=u.split(d.get("delimiter"));for(s=0,p=r.length;s<p;s++){q=r[s];t[q]=t[q]||{};t=t[q]}return t};return function(q,r,t){var s,p;if(typeof t==="undefined"){t=r;r=[]}p=n(q);s=o(q);c=t;if(typeof c==="function"){c=t.apply(this,r)}p[s]=c;if(typeof c==="object"){return p[s]=i(p[s]||{},c)}}})();g=function(o,r){var n,q,p,m;q=d.get("startMethod");if(r===false){q=d.get("stopMethod")}n=function(u){var t,s;t=typeof o[u]==="object";s=u.charAt(0)===u.charAt(0).toUpperCase();return t&&s};m=[];for(p in o){if(o.hasOwnProperty(p)&&n(p)){if(p===!"Core"&&o[p].hasOwnPropery(q)){o[p][q].call()}m.push(g(o[p],r))}else{m.push(void 0)}}return m};a=function(m){d.set(m);return g(APP)};j=function(){return g(APP,false)};h.log=f.write;return{module:c,start:a,stop:j,Core:{Config:d,Events:l,Log:f,Url:b}}})(window,document)}).call(this);