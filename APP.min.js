var APP=APP||{};APP.Core=(function(c){var d={},a={debug:false,moduleStartMethod:"start",moduleStopMethod:"stop",nameSpaceDelimiter:"."};var e=(function(){var i=function(m,l){for(var j in l){m[j]=l[j]}return m};var h=function(j){return j.split(a.nameSpaceDelimiter).pop()};var g=function(l){var j=l.split(a.nameSpaceDelimiter);j.pop();return f(j.join(a.nameSpaceDelimiter))};var f=function(m){var j=0,l=m.split(a.nameSpaceDelimiter),n=this;for(;j<l.length;j++){n[l[j]]=n[l[j]]||{};n=n[l[j]]}return n};return function(o,p,n){if(typeof n==="undefined"){n=p;p=[]}var l=h(o),j=g(o),m=(typeof n==="function")?n.apply(this,p):n;switch(typeof m){case"object":j[l]=i((j[l]||{}),m);break;default:j[l]=m;break}}})();var b=function(f,h){var g=h!==false?a.moduleStartMethod:a.moduleStopMethod;for(prop in f){if(typeof f[prop]==="object"&&prop.charAt(0)===prop.charAt(0).toUpperCase()){if(prop!=="Core"&&f[prop].hasOwnProperty(g)){f[prop][g].call()}b(f[prop],h)}}};d.config=function(f,g){if(typeof g!=="undefined"){a[f]=g}if(typeof f==="object"){for(k in f){a[k]=f[k]}}else{if(typeof a[f]!=="undefined"){return a[f]}}return a};d.Log=(function(){var f={};f.history=[];f.write=function(){if(a.debug&&c.console){for(var g=arguments.length;g>0;g--){f.history.push(arguments[g-1]);console.log(arguments[g-1])}}};return f})();d.start=function(f){d.config(f);b(APP)};d.stop=function(){b(APP,false)};c.define=e;c.log=d.Log.write;e("APP.start",function(){return d.start});e("APP.stop",function(){return d.stop});return d})(window);define("APP.PubSub",function(){var a={},b={};a.off=function(c){if(typeof c!=="string"){throw new Error("Topic must be a string")}b[c]=[]};a.on=function(c,d){if(typeof c!=="string"){throw new Error("Topic must be a string")}if(typeof d!=="function"){throw new Error("Callback must be a function")}if(typeof b[c]==="undefined"){b[c]=[]}b[c].push(d)};a.trigger=function(d,c){if(typeof d!=="string"){throw new Error("Topic must be a string")}for(t in b[d]){b[d][t](c)}};return a});